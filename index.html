<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="main.css">
    <title>GreenCity</title>
</head>
<body>
    <header>
        <img src="./assets/06-LOGO.png">
    </header>

    <h1>Vem tomar um café<br>com a gente</h1>

    <!-- Recomendamos que você não altere os IDs dos elementos do formulário -->
    <div class="content">
        <form id="contact" method="post" action="#" name="userForm" >
            <input type="text" name='username' id="name" placeholder="Nome">
            <input type="text"  name="email" id="email" placeholder="Endereço de email">
            <textarea name="message" id="message" cols="22" rows="10" placeholder="Mensagem"></textarea>
            <input type="submit" class="button" value="Enviar">
        </form>
    </div>

    <script src=""></script>
</body>
<script>
document.userForm.onsubmit = async e => {
        e.preventDefault()
        const form = e.target
        const data = new FormData(form)
        const options = {
          method: form.method,
          body: new URLSearchParams(data)
        }
        fetch('/validation', options)
          .then(resp => resp.json())
          .then(res => {
            var text = "";
            res.forEach(e=>{
              e = "," + e;
              text += e;
            })
            window.alert(`Erros: ${text}`)
           })

          
}
</script>

</html>
